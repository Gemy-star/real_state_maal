{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block style %}
<style>
  :root {
    --color-main: #392E37;
    --color-secondary: #CEC9BB;
    --color-goals: #b9aac1;
  }
  /* Staff Swiper Slide */
  .swiper-staff .swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-staff .card {
    border: none;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    text-align: center;
    padding: 15px;
    background: #fff;
  }

  .swiper-staff .card-img img {
    border-radius: 50%;
    max-width: 120px;
    margin-bottom: 12px;
  }

  .swiper-staff .title-d {
    font-weight: bold;
    font-size: 16px;
    margin-bottom: 5px;
  }

  .swiper-staff .content-d {
    font-size: 14px;
    color: #6c757d;
  }

  /* Swiper Navigation Buttons */
  .swiper-staff .swiper-button-next,
  .swiper-staff .swiper-button-prev {
    width: 50px;
    height: 50px;
    background: linear-gradient(90deg, #392E37, #4c3c4f);
    border-radius: 50%;
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    top: 50%;
    transform: translateY(-50%);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    transition: transform 0.3s ease;
  }

  .swiper-staff .swiper-button-next:hover,
  .swiper-staff .swiper-button-prev:hover {
    transform: translateY(-50%) scale(1.1);
  }

  .swiper-staff .swiper-button-next::after,
  .swiper-staff .swiper-button-prev::after {
    font-size: 24px;
    font-weight: bold;
  }
  /* General styles for a consistent look */
  .container-fluid-custom {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  @media (min-width: 576px) {
    .container-fluid-custom {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }
.intro {
  min-height: 80vh;
  color: #ffffff;
  height:auto;
}
  /* Intro Section */
  .intro .carousel-item-a {
    position: relative;
    min-height: 80vh; /* More responsive height */
    height: auto;
    display: flex; /* Use flexbox for modern centering */
    align-items: center;
    justify-content: center;
  }
  .intro-content {
    text-align: center;
  }
  .intro .intro-title {
    color: #ffffff;
    font-weight: 700;
    /* Fluid font size for better responsiveness */
    font-size: clamp(1.5rem, 6vw, 3.8rem);
    text-transform: uppercase;
  }
  .intro .intro-btn {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background-color: rgba(255, 255, 255, 0.2);
    border: 2px solid #ffffff;
    border-radius: 50px;
    color: #ffffff;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }
  .intro .intro-btn:hover {
    background-color: rgba(255, 255, 255, 0.4);
  }

  /* Card and Section styles */
  .card-box-ico {
    padding: 0.95rem !important;
  }
  .card-shadow {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
  .home-who-us {
    background-color: var(--color-secondary) !important;
  }
  .bg-footer {
    background-color: var(--color-goals);
  }
  .bg-main {
    background-color: var(--color-main) !important;
  }
  .bg-sec {
    background-color: var(--color-secondary) !important;
  }
  .bg-goals {
    background-color: var(--color-goals) !important;
  }

  .section-t4 {
    padding-top: 3rem;
  }
  .section-t8 {
    padding-top: 4rem;
  }

  .h-40-vh {
    height: auto;
    padding-bottom: 2rem;
  }

  /* Ensure images in the "who we are" section are responsive */
  .agent-avatar-box img {
    max-width: 100%;
    height: auto;
  }

  /* Facts and figures cards to stack better on small screens */
  @media (max-width: 767.98px) {
    .facts-figures .col-md-2 {
      flex: 0 0 50%;
      max-width: 50%;
    }
  }
  @media (min-width: 768px) and (max-width: 991.98px) {
    .facts-figures .col-md-2 {
      flex: 0 0 33.333333%;
      max-width: 33.333333%;
    }
  }
</style>
{% endblock %}

{% block body %}
  <div class="intro intro-carousel position-relative">
    <div class="swiper-slide carousel-item-a intro-item bg-image" style="
      background-position: center;
      background-image: url('{{ content.background_url }}');
      background-size: cover;
      width: 100% !important;
    ">
      <div class="overlay overlay-a"></div>
      <div class="intro-content">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="intro-body">
                <h1 class="intro-title mb-4 text-center noto-kufi-arabic">
                  {% trans 'نزرع النجاح، نحصد التميز ونبني مستقبلًا مزدهرًا، بخطى رائدة في الاستثمار والتسويق.' %}
                </h1>
                <a class="intro-btn noto-kufi-arabic" href="#">
                  {% trans 'شركة ثمار' %}
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <main id="main">
    <section class="section-agents section-t4 home-who-us">
      <div class="container">
        <div class="row pt-2 align-items-center">
          <div class="col-md-5 pb-2 section-md-t3">
            <div class="agent-avatar-box">
              <img src="{% static 'assets/img/logo.png' %}" alt="{% trans 'Thimar Holding Logo' %}" class="agent-avatar img-fluid">
            </div>
            <div class="agent-avatar-box mt-3">
              <img src="{{content.first_paragrapgh_background_url}}" style="border-radius: 12px;" alt="{% trans 'A visual representation of the company' %}" class="agent-avatar img-fluid">
            </div>
          </div>
          <div class="col-md-5 section-md-t3 pb-2">
            <div class="agent-info-box">
              <div class="agent-content mb-3">
                <div class="title-box-d mt-4">
                  <h5 class="title-single text-black-50 noto-kufi-arabic">
                    {% trans 'شركة ثمار' %}
                  </h5>
                </div>
                <p class="content-d color-text-a noto-kufi-arabic" style="font-size: 1.25rem;">
                  {{ content.home_first_paragraph|default:'شركة ثمار التنمية القابضة، منذ انطلاقتها في عام 1988، تواصل رحلتها في تقديم حلول مبتكرة لتسويق المنتجات الزراعية والغذائية، وتوسيع نطاق استثماراتها عبر قطاعات حيوية مثل التطوير العقاري وإدارة المشاريع برؤية طموحة وأهداف متجددة، تسعى ثمار لأن تكون شريكًا رائدًا في تحقيق التنمية المستدامة ودعم الاقتصاد الوطني'|safe }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section-news section-t8 bg-goals h-40-vh">
      <div class="container">
        <div class="row d-flex justify-content-between">
          <div class="col-md-3 pt-2 pt-4">
            <div class="card bg-main card-shadow">
              <div class="card-body">
                <p class="text-white-50 noto-kufi-arabic" style="font-size: 1.03rem;">
                  {% trans 'نعمل' %}
                </p>
                <h2 class="text-white noto-kufi-arabic">{% trans 'الرؤية' %}</h2>
                <p class="text-white noto-kufi-arabic" style="font-size: 1.09rem;">
                  {{ content.roaya_paragraph|default:'على تحقيق عوائد مستدامة من خلال استثمارات مبتكرة و ناجحة قابلة لتوسع النمو و تساهم فى دعم و تعزيز الأقتصاد الوطنى'|safe }}
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4 pt-4">
            <div class="card bg-goals card-shadow">
              <div class="card-body">
                <p class="text-white-50 noto-kufi-arabic" style="font-size: 1.03rem;">
                  {% trans 'نطمح' %}
                </p>
                <h2 class="text-dark noto-kufi-arabic">{% trans 'الأهداف' %}</h2>
                {% if content.goals_paragraph %}
                  {{ content.goals_paragraph|safe }}
                {% else %}
                  <p class="content-d color-text-a noto-kufi-arabic" style="font-size: 1.09rem;">
                    {% trans 'لريادة استثمارية تدعم الأقتصاد و تحقق تطلعات المستقبل' %}
                  </p>
                {% endif %}
              </div>
            </div>
          </div>
          <div class="col-md-3 pt-2 pt-4">
            <div class="card bg-sec card-shadow">
              <div class="card-body">
                <p class="text-white-50 noto-kufi-arabic" style="font-size: 1.03rem;">
                  {% trans 'لنحقق' %}
                </p>
                <h2 class="text-white noto-kufi-arabic">{% trans 'الرسالة' %}</h2>
                <p class="text-white noto-kufi-arabic" style="font-size: 1.09rem;">
                  {{ content.messages_paragraph|default:'التميز باستثمارات استراتيجية تصنع الفارق و تفتح أفاقا جديدة للنمو المستدام و النمو الأقتصادى'|safe }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
<!-- Facts & Figures Swiper (Mobile Friendly) -->
<section class="section-agents section-t4 facts-figures">
  <div class="container">
    <h2 class="noto-kufi-arabic mb-4">{% trans 'حقائق وأرقام' %}</h2>
    <div class="row d-flex justify-content-between">

      <!-- Fact 1 -->
      <div class="col-12 col-md-4 col-lg-2 pt-2 mb-4">
        <div class="card shadow-sm bg-main card-shadow">
          <div class="card-body text-center">
            <h3 class="card-title text-white counter" data-count="35">0</h3>
            <p class="card-text noto-kufi-arabic text-white">{% trans 'سنوات من الخبرة' %}</p>
          </div>
        </div>
      </div>

      <!-- Fact 2 -->
      <div class="col-12 col-md-4 col-lg-2 pt-2 mb-4">
        <div class="card shadow-sm bg-sec card-shadow">
          <div class="card-body text-center">
            <h3 class="card-title text-white counter" data-count="500">0</h3>
            <p class="card-text noto-kufi-arabic text-white">{% trans 'شركاء النجاح' %}</p>
          </div>
        </div>
      </div>

      <!-- Fact 3 -->
      <div class="col-12 col-md-4 col-lg-2 pt-2 mb-4">
        <div class="card shadow-sm bg-goals card-shadow">
          <div class="card-body text-center">
            <h3 class="card-title text-white counter" data-count="100">0</h3>
            <p class="card-text noto-kufi-arabic text-white">{% trans 'مشروع ناجح' %}</p>
          </div>
        </div>
      </div>

      <!-- Fact 4 -->
      <div class="col-12 col-md-4 col-lg-2 pt-2 mb-4">
        <div class="card shadow-sm bg-main card-shadow">
          <div class="card-body text-center">
            <h3 class="card-title text-white counter" data-count="10">0</h3>
            <p class="card-text noto-kufi-arabic text-white">{% trans 'قطاعات استثمارية' %}</p>
          </div>
        </div>
      </div>

      <!-- Fact 5 -->
      <div class="col-12 col-md-4 col-lg-2 pt-2 mb-4">
        <div class="card shadow-sm bg-sec card-shadow">
          <div class="card-body text-center">
            <h3 class="card-title text-white counter" data-count="24">0</h3>
            <p class="card-text noto-kufi-arabic text-white">{% trans 'خدمة العملاء' %}</p>
          </div>
        </div>
      </div>

      <!-- Fact 6 -->
      <div class="col-12 col-md-4 col-lg-2 pt-2 mb-4">
        <div class="card shadow-sm bg-goals card-shadow">
          <div class="card-body text-center">
            <h3 class="card-title text-white counter" data-count="15">0</h3>
            <p class="card-text noto-kufi-arabic text-white">{% trans 'جوائز وتكريمات' %}</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
<section class="section-agents section-t8">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="title-wrap d-flex justify-content-between">
          <div class="title-box">
            <h2 class="title-single text-black-50 noto-kufi-arabic">{% trans 'فريق العمل' %}</h2>
          </div>
        </div>
      </div>
    </div>

    <!-- Swiper Staff Section -->
    <div class="swiper swiper-staff pt-4">
      <div class="swiper-wrapper">
        <!-- Slide 1 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/1.png' %}" alt="{% trans 'Engineer Waleed Bin Abdulaziz Al Shuwair' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'المهندس/ وليد بن عبدالعزيز الشويعر' %}</h6>
              <p class="content-d color-text-a">{% trans 'رئيس مجلس الإدارة' %}</p>
            </div>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/2.png' %}" alt="{% trans 'Mr. Khaled bin Asaad Khashoggi' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'أ/ خالد بن أسعد خاشقجي' %}</h6>
              <p class="content-d color-text-a">{% trans 'نائب رئيس مجلس الإدارة' %}</p>
            </div>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/3.png' %}" alt="{% trans 'Mr. Melfi bin Menahi Al Marzouqi' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'أ/ ملفي بن مناحي المرزوقي' %}</h6>
              <p class="content-d color-text-a">{% trans 'عضو مجلس الإدارة - العضو المنتدب' %}</p>
            </div>
          </div>
        </div>

        <!-- Slide 4 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/4.png' %}" alt="{% trans 'Mr. Abdulaziz Mohammed Al Qahtani' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'أ/ عبد العزيز محمد القحطاني' %}</h6>
              <p class="content-d color-text-a">{% trans 'عضو مجلس الإدارة' %}</p>
            </div>
          </div>
        </div>

        <!-- Slide 5 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/5.png' %}" alt="{% trans 'Mr. Abdulkarim bin Mohammed Al Nahir' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'أ/ عبدالكريم بن محمد النهير' %}</h6>
              <p class="content-d color-text-a">{% trans 'عضو مجلس الإدارة' %}</p>
            </div>
          </div>
        </div>

        <!-- Slide 6 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/6.png' %}" alt="{% trans 'Mr. Haitham bin Faisal Skobi' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'أ/هيثم بن فيصل اسكوبى' %}</h6>
              <p class="content-d color-text-a">{% trans 'عضو مجلس الإدارة' %}</p>
            </div>
          </div>
        </div>

        <!-- Slide 7 -->
        <div class="swiper-slide">
          <div class="card">
            <div class="card-img">
              <img src="{% static 'assets/img/ceo/7.png' %}" alt="{% trans 'Mr. Yasser bin Suleiman Al Aqeel' %}" class="img-d img-fluid" />
            </div>
            <div class="card-body">
              <h6 class="title-d">{% trans 'أ/ياسر بن سليمان العقيل' %}</h6>
              <p class="content-d color-text-a">{% trans 'عضو مجلس الإدارة' %}</p>
            </div>
          </div>
        </div>
      </div>
      <!-- Swiper Navigation -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </div>
</section>


    </main>
  {% endblock %}
{% block js %}
<script>
  var swiperStaff = new Swiper('.swiper-staff', {
    slidesPerView: 1,
    spaceBetween: 20,
    loop: true,
    pagination: {
      el: '.swiper-staff .swiper-pagination',
      clickable: true,
    },
    navigation: {
      nextEl: '.swiper-staff .swiper-button-next',
      prevEl: '.swiper-staff .swiper-button-prev',
    },
    breakpoints: {
      576: { slidesPerView: 2 },
      768: { slidesPerView: 3 },
      992: { slidesPerView: 4 },
      1200: { slidesPerView: 5 },
    },
  });
</script>
<script>
  function animateCounter(el) {
    const target = +el.getAttribute("data-count");
    const duration = 2000; // 2 seconds
    const stepTime = Math.abs(Math.floor(duration / target));
    let count = 0;

    const timer = setInterval(() => {
      count++;
      el.textContent = count + (target >= 100 ? "+" : "");
      if (count >= target) {
        clearInterval(timer);
      }
    }, stepTime);
  }

  // Trigger when section is visible
  const counters = document.querySelectorAll(".counter");
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateCounter(entry.target);
        observer.unobserve(entry.target); // Run once
      }
    });
  }, { threshold: 0.5 });

  counters.forEach(counter => observer.observe(counter));
</script>
{% endblock %}