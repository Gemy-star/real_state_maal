{% load i18n static formatter_tags %}

<div class="sidebar d-flex flex-column flex-shrink-0 p-3">
  <a href="{% url 'home-page' %}"
     class="d-flex align-items-center mb-3 mb-md-0 text-decoration-none sidebar-brand">
    <img src="{% static 'assets/img/logo_white.png' %}"
         class="img-fluid logo"
         alt="{% trans 'Logo' %}" />
  </a>
  <hr>

  {% if user.is_authenticated %}
  <ul class="nav nav-pills flex-column mb-auto">
    <li class="nav-item" data-aos="fade-right" data-aos-delay="100">
      <a href="{% url 'jobrequest-list' %}"
         class="nav-link {% if request.resolver_match.url_name|startswith:'jobrequest-list' %} active {% endif %}">
        <i class="fas fa-user-tie"></i>
        {% trans "طلبات التوظيف" %}
      </a>
    </li>
    <li data-aos="fade-right" data-aos-delay="200">
      <a href="{% url 'contact-list' %}"
         class="nav-link {% if request.resolver_match.url_name|startswith:'contact-list' %} active {% endif %}">
        <i class="fas fa-address-book"></i>
        {% trans "طلبات التواصل" %}
      </a>
    </li>
    <li data-aos="fade-right" data-aos-delay="250">
      <a href="{% url 'translation-management' %}"
         class="nav-link {% if request.resolver_match.url_name == 'translation-management' %} active {% endif %}">
        <i class="fas fa-language"></i>
        {% trans "إدارة الترجمة" %}
      </a>
    </li>
    <li data-aos="fade-right" data-aos-delay="275">
      <a href="{% url 'report-list' %}"
         class="nav-link {% if 'report' in request.resolver_match.url_name %} active {% endif %}">
        <i class="fas fa-file-pdf"></i>
        {% trans "إدارة التقارير" %}
      </a>
    </li>
    <li data-aos="fade-right" data-aos-delay="300">
      <a href="{% url 'site-settings' %}"
         class="nav-link {% if request.resolver_match.url_name == 'site-settings' %} active {% endif %}">
        <i class="fas fa-cog"></i>
        {% trans "إعدادات الموقع" %}
      </a>
    </li>
    <li data-aos="fade-right" data-aos-delay="350">
      <a href="{% url 'logout' %}"
         class="nav-link {% if request.resolver_match.url_name|startswith:'logout' %} active {% endif %}">
        <i class="fas fa-sign-out-alt"></i>
        {% trans "تسجيل الخروج" %}
      </a>
    </li>
  </ul>
  {% endif %}
</div>

<style>
  .sidebar {
    width: 260px;
    min-height: 100vh;
    background: linear-gradient(180deg, #392E37, #4c3c4f);
    color: #fff;
    box-shadow:
      4px 0 20px rgba(0, 0, 0, 0.15),
      0 0 40px rgba(57, 46, 55, 0.2);
    position: relative;
    overflow: hidden;
  }

  .sidebar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.05),
      transparent
    );
    animation: shimmer 3s infinite;
  }

  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }

  .sidebar .logo {
    max-width: 6rem;
    max-height: 7vh;
    filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.3));
    transition: transform 0.3s ease;
  }

  .sidebar .logo:hover {
    transform: scale(1.1) rotate(5deg);
  }

  .sidebar .nav-link {
    color: rgba(255,255,255,0.85);
    padding: 0.85rem 1.2rem;
    font-weight: 500;
    border-radius: 10px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    margin-bottom: 0.5rem;
    position: relative;
    overflow: hidden;
  }

  .sidebar .nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s ease;
  }

  .sidebar .nav-link:hover::before {
    left: 100%;
  }

  .sidebar .nav-link i {
    margin-left: 0.75rem;
    font-size: 1.1rem;
    transition: transform 0.3s ease;
  }

  .sidebar .nav-link:hover {
    background: rgba(255,255,255,0.15);
    color: #FFD369;
    transform: translateX(-5px);
    box-shadow:
      0 4px 15px rgba(255, 211, 105, 0.3),
      inset 0 0 20px rgba(255, 255, 255, 0.1);
  }

  .sidebar .nav-link:hover i {
    transform: scale(1.3) rotate(10deg);
  }

  .sidebar .nav-link.active {
    background: linear-gradient(135deg, #FFD369, #FFA500);
    color: #392E37 !important;
    font-weight: 600;
    box-shadow:
      0 4px 20px rgba(255, 211, 105, 0.4),
      0 0 30px rgba(255, 211, 105, 0.3);
    transform: scale(1.05);
  }

  .sidebar .nav-link.active i {
    color: #392E37 !important;
    transform: scale(1.2);
  }

  .sidebar-brand {
    color: #fff;
    font-size: 1.25rem;
    font-weight: bold;
    transition: all 0.3s ease;
    display: block;
  }

  .sidebar-brand:hover {
    transform: scale(1.05);
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  }

  .sidebar hr {
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 5px rgba(255, 255, 255, 0.1);
  }
</style>
